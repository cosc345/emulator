<!DOCTYPE html>
<!--
This file is the main file that run the emulator
-->
<html>
    <head>
        <title>Emulator</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="CSS/styling.css">
    </head>
    <body>

        <h1> LCC Smartwatch Emulator</h1>
        <div style="color:black" id="smartphoneFrame5">
            <canvas id="emulatorCanvas" width="0" height="0"
                    style="background-color:#d0e4fe">

            </canvas><br>
             <div  id="smartphoneFrame"><br><br><br>
            <div  id="container"></div>
            </div>
            <script src="kinetic-v5.1.0 2/kinetic-v5.1.0.min.js"></script>
            <script defer="defer">
                //modified version of this  http://www.html5canvastutorials.com/kineticjs/html5-canvas-kineticjs-kaleidoscope-tutorial/
             var cleared = false;
              var imageObj = new Image();
              var layer = new Kinetic.Layer();
              var stage = new Kinetic.Stage({
                  container: 'container',
                  width: 400,
                  height: 400
                });
              imageObj.onload = function() {              
                darth = new Kinetic.Image({
                  x: 10,
                  y: 10,
                  image: imageObj,
                  draggable: true,
                  blurRadius: 20
                });
               if(!cleared){
                   layer.clear();
                   cleared = true;
               }else{
                   layer.draw();
                   cleared = false;
               }
      
                layer.add(darth);
                stage.add(layer);

                darth.cache();
                darth.filters([Kinetic.Filters.Kaleidoscope]);
                darth.kaleidoscopePower(3);
        
              };
              imageObj.src = 'https://www.wonderplugin.com/wp-content/plugins/wonderplugin-lightbox/images/demo-image2.jpg';
            </script>
            
        <div style="color:white" id='monitor' >
            <select id = "AppSelection"> 
                <option value="Test.js">Testing</option>
                <option value="HealthApp/health.js">Health App</option>
            </select>
            <button type="button" id='load'>Load</button>
            <button type="button" id='clear'>clear</button><br>
            <textarea disabled id='text' rows="4" cols="50"></textarea>
        </div>

        <script type="text/javascript"
        src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
        <script type="text/javascript" src="emulatorForm.js"></script>
        <script type="text/javascript" src="http://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
        <script>
            // this is for the clear button, clearing the canvans
            document.getElementById('clear').addEventListener('click', function () {
                layer.clear();
                location.reload(); 
            }, false);
        </script>
        
       

    </body>
</html>
